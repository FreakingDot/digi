<html>
	<head>
		<title> Retro Shop </title>
		<link rel="stylesheet" href="style.css">
		<link href="https://fonts.googleapis.com/css2?family=Lobster&family=Roboto&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@500&display=swap" rel="stylesheet">
	</head>
	<body>
		<div>
		<h1> The Retro Shop </h1>
		</div>
		<div id="navbar">
	
		<a class="left">Home</a>
		<a class="left">Offers</a>
		<a class="left">Contact</a>
		<a class="left">About</a>
		<a id="cart"> 0 item(s) | 0.00&euro;</a>
		</div>
		<div id="items">
		</div>
	</body>
	<script>
		var items = [
				{
					"id": 0,
					"title": "Hat",
					"imageURL": "https://i.imgur.com/HgIzJ0O.png",
					"description": "A retro hat from 1972 wore by Jim Morrison. Size L",
					"price": 25.99
				},
				{
					"id": 1,
					"title": "Guitar",
					"imageURL": "https://i.imgur.com/1pc347r.png",
					"description": "Used by Jimi Hendrix in Spain tour 1969. Left-handed.",
					"price": 7560
				},
				{
					"id": 2,
					"title": "Headset",
					"imageURL": "https://i.imgur.com/BU1u53U.png",
					"description": "Mono/Stereo sound.",
					"price": 129.99
				},
				{
					"id": 3,
					"title": "Backpack",
					"imageURL": "https://i.imgur.com/WOGQ3ll.png",
					"description": "25 liters travel fake-leather",
					"price": 59.99
				},
				{
					"id": 4,
					"title": "Glasses",
					"imageURL": "https://i.imgur.com/KQssRzO.png",
					"description": "-3.75 left eye -4.25 right eye. Can you buy glasses like this somewhere else? You cannot.",
					"price": 158.45
				},
				{
					"id": 5,
					"title": "Camera",
					"imageURL": "https://i.imgur.com/hifcDsd.png",
					"description": "Works only with Kodak Pro-289l films",
					"price": 46.15
				},
				{
					"id": 6,
					"title": "Skate",
					"imageURL": "https://i.imgur.com/KiZi7HQ.png",
					"description": "Tony Hawks first skate.",
					"price": 2500
				},
				{
					"id": 7,
					"title": "Shirt",
					"imageURL": "https://i.imgur.com/4OZIWFV.png",
					"description": "Wore by Elvis Presley in Acapulco film.",
					"price": 756
				},
				{
					"id": 8,
					"title": "Sneakers",
					"imageURL": "https://i.imgur.com/4GtCkkJ.png",
					"description": "Used by Bugs Bunny in Space-Jam",
					"price": 259.30
				},
				{
					"id": 9,
					"title": "Shoes",
					"imageURL": "https://i.imgur.com/uRXDvwK.png",
					"description": "Only one. Right foot.",
					"price": 79.99
				},
				{
					"id": 10,
					"title": "Red Hat",
					"imageURL": "https://i.imgur.com/qvwxXYY.png",
					"description": "Outlander's costume. Unique piece!",
					"price": 250
				},
				{
					"id": 11,
					"title": "Brown Beanie",
					"imageURL": "https://i.imgur.com/zZAtqkD.png",
					"description": "Want to be cool but look like idiot? Buy this hat.",
					"price": 829.15
				},
				{
					"id": 12,
					"title": "Blue Jeans",
					"imageURL": "https://i.imgur.com/PMFkkjS.png",
					"description": "Blue jeans, white shirt. Walked into the room you know you made my eyes burn",
					"price": 150.90
				},
				{
					"id": 13,
					"title": "Brown Pants",
					"imageURL": "https://i.imgur.com/PmCMb4p.png",
					"description": "They are so ugly that we give them out for almost nothing",
					"price": 1.99
				},
				{
					"id": 14,
					"title": "Radio",
					"imageURL": "https://i.imgur.com/Xd1YRFS.png",
					"description": "AM only. Volumne knob broken but works at max volume",
					"price": 5.99
				}        
			];
			
		var cart = [];    
		var totalPrice = 0;
		var incart=0
		
		var itemsHTML = document.getElementById("items");    
		for (var index = 0; index < 15; index++) {
			let item = items[index];
			
			var itemDIV= document.createElement("div");
			itemDIV.setAttribute("class", "itemdiv");
			itemDIV.setAttribute("id", [index]+'item');
			itemsHTML.appendChild(itemDIV);
			
			var imageURLHTML = document.createElement("IMG");
			imageURLHTML.setAttribute("src", items[index].imageURL);
			imageURLHTML.setAttribute("class", "itemicon");
			document.getElementById([index]+"item").appendChild(imageURLHTML);  
			
			var titleHTML = document.createElement("p");
			titleHTML.innerHTML = items[index].title;
			titleHTML.setAttribute("class", "itemtitle");
			document.getElementById([index]+"item").appendChild(titleHTML);  
			
			var descriptionHTML = document.createElement("p");
			descriptionHTML.innerHTML = items[index].description;
			descriptionHTML.setAttribute("class", "itemdescription");
			document.getElementById([index]+"item").appendChild(descriptionHTML);
  			
			var priceHTML = document.createElement("p");
			priceHTML.innerHTML = item.price+"&euro;";
			priceHTML.setAttribute("class", "itemprice");
			document.getElementById([index]+"item").appendChild(priceHTML);
			
		    var addButtonHTML = document.createElement("button");
			addButtonHTML.innerHTML = "Add to cart";
			addButtonHTML.setAttribute("id", index+"add");

			addButtonHTML.addEventListener("click", function(){
				incart= incart+1;

				document.getElementById(item.id+"add").style.display="none";
				document.getElementById(item.id+"remove").style.display="block";

				totalPrice= totalPrice+ item.price;
				document.getElementById("cart").innerHTML=incart+" item(s)"+" | "+""+totalPrice.toFixed(2)+"&euro;";
			});
			document.getElementById([index]+"item").appendChild(addButtonHTML); 

			var removeHTML = document.createElement("button");
			removeHTML.setAttribute("style", "display:none;");
			removeHTML.setAttribute("id", index+"remove");	
			removeHTML.innerHTML="Remove from cart";

			removeHTML.addEventListener("click", function() {
				incart= incart-1;

				document.getElementById(item.id+"add").style.display="block";
				document.getElementById(item.id+"remove").style.display="none";

				totalPrice= totalPrice- item.price;
				document.getElementById("cart").innerHTML=incart+" item(s)"+" | "+""+totalPrice.toFixed(2)+"&euro;";
			});	
			document.getElementById([index]+"item").appendChild(removeHTML);
		
		//sticky navbar
		window.onscroll = function() {myFunction()};

		var navbar = document.getElementById("navbar");
		var sticky = navbar.offsetTop;

		function myFunction() {
		  if (window.pageYOffset >= sticky) {
			navbar.classList.add("sticky")
		  } else {
			navbar.classList.remove("sticky");
		  }
		};
    }		
	</script>
</html>